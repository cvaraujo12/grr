(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[238],{9708:function(e,a,r){Promise.resolve().then(r.bind(r,78551))},78551:function(e,a,r){"use strict";r.r(a),r.d(a,{default:function(){return F}});var t=r(57437),s=r(2265),i=r(94660),o=r(74810),d=r(54061),n=r(17461);let l=(e,a)=>{if(!a)return null;let r=new Date(e);return Math.round((new Date(a).getTime()-r.getTime())/6e4)},m=e=>(0,d.WU)(new Date(e),"HH:mm",{locale:n.F}),c=(0,i.Ue)()((0,o.tJ)((0,o.mW)((e,a)=>({registros:[],lembretes:[],ultimaAtualizacao:null,adicionarRegistroSono:function(r){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=Date.now().toString(),d=t?l(r,t):null;return e({registros:[...a().registros,{id:o,inicio:r,fim:t,qualidade:s,notas:i,duracaoMinutos:d}],ultimaAtualizacao:new Date().toISOString()},!0,{type:"sono/adicionarRegistro"}),o},atualizarRegistroSono:(r,t)=>{let s=a(),i=s.registros.find(e=>e.id===r);if(!i)return!1;let o=t.fim?l(t.inicio||i.inicio,t.fim):i.duracaoMinutos;return e({registros:s.registros.map(e=>e.id===r?{...e,...t,duracaoMinutos:o}:e),ultimaAtualizacao:new Date().toISOString()},!0,{type:"sono/atualizarRegistro"}),!0},removerRegistroSono:r=>{let t=a();return!!t.registros.some(e=>e.id===r)&&(e({registros:t.registros.filter(e=>e.id!==r),ultimaAtualizacao:new Date().toISOString()},!0,{type:"sono/removerRegistro"}),!0)},adicionarLembrete:function(r,t,s){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=Date.now().toString();return e({lembretes:[...a().lembretes,{id:o,tipo:r,horario:t,diasSemana:s,mensagem:i,ativo:!0}],ultimaAtualizacao:new Date().toISOString()},!0,{type:"sono/adicionarLembrete"}),o},atualizarLembrete:(r,t)=>{let s=a();return!!s.lembretes.some(e=>e.id===r)&&(e({lembretes:s.lembretes.map(e=>e.id===r?{...e,...t}:e),ultimaAtualizacao:new Date().toISOString()},!0,{type:"sono/atualizarLembrete"}),!0)},removerLembrete:r=>{let t=a();return!!t.lembretes.some(e=>e.id===r)&&(e({lembretes:t.lembretes.filter(e=>e.id!==r),ultimaAtualizacao:new Date().toISOString()},!0,{type:"sono/removerLembrete"}),!0)},alternarAtivoLembrete:r=>{let t=a(),s=t.lembretes.find(e=>e.id===r);if(!s)return!1;let i=!s.ativo;return e({lembretes:t.lembretes.map(e=>e.id===r?{...e,ativo:i}:e),ultimaAtualizacao:new Date().toISOString()},!0,{type:"sono/alternarLembrete"}),i},calcularDuracaoSono:e=>l(e.inicio,e.fim),formatarHorario:m}),{name:"sono-store"}),{name:"sono-storage",storage:(0,o.FL)(()=>localStorage),partialize:e=>({registros:e.registros,lembretes:e.lembretes,ultimaAtualizacao:e.ultimaAtualizacao})}));var x=r(83318),g=r(39587),u=r(14465),h=r(55340),y=r(93088),b=r(6141),f=r(94136),p=r(45367);function v(){let{registros:e,adicionarRegistroSono:a,atualizarRegistroSono:r,removerRegistroSono:i}=c(),[o,l]=(0,s.useState)(""),[m,v]=(0,s.useState)(""),[j,N]=(0,s.useState)(""),[k,w]=(0,s.useState)(""),[S,D]=(0,s.useState)(""),[M,C]=(0,s.useState)(null),[z,H]=(0,s.useState)(!1),[Z,A]=(0,s.useState)(null),R=e=>{let a=(0,x.D)(e);return(0,g.z)(a)?"Hoje \xe0s ".concat((0,d.WU)(a,"HH:mm")):(0,u.g)(a)?"Ontem \xe0s ".concat((0,d.WU)(a,"HH:mm")):(0,d.WU)(a,"dd 'de' MMMM '\xe0s' HH:mm",{locale:n.F})},L=(e,a)=>{if(!a)return null;let r=(0,x.D)(e),t=(0,x.D)(a).getTime()-r.getTime();return"".concat(Math.floor(t/36e5),"h ").concat(Math.floor(t%36e5/6e4),"min")},O=e=>null===e?null:Array.from({length:5}).map((a,r)=>(0,t.jsx)(h.Z,{className:"h-4 w-4 ".concat(r<e?"text-yellow-400 fill-yellow-400":"text-gray-300")},r)),U=()=>{l(""),v(""),N(""),w(""),D(""),C(null)},W=e=>{let a=(0,x.D)(e.inicio),r=(0,d.WU)(a,"yyyy-MM-dd"),t=(0,d.WU)(a,"HH:mm"),s="",i="";if(e.fim){let a=(0,x.D)(e.fim);s=(0,d.WU)(a,"yyyy-MM-dd"),i=(0,d.WU)(a,"HH:mm")}l(r),v(t),N(s),w(i),D(e.notas||""),C(e.qualidade),H(!0),A(e.id)},F=e=>{r(e,{fim:new Date().toISOString()})};return(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-gray-800 dark:text-white mb-6",children:"Registro de Sono"}),(0,t.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),!o||!m)return;let t=new Date("".concat(o,"T").concat(m,":00")).toISOString(),s=j&&k?new Date("".concat(j,"T").concat(k,":00")).toISOString():null;z&&Z?(r(Z,{inicio:t,fim:s,qualidade:M,notas:S}),H(!1),A(null)):a(t,s,M,S),U()},className:"mb-8",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6 mb-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h3",{className:"font-medium text-gray-700 dark:text-gray-300 mb-3 flex items-center",children:[(0,t.jsx)(y.Z,{className:"h-4 w-4 mr-2 rotate-180"}),"Hor\xe1rio de dormir"]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"data-inicio",className:"block text-sm font-medium text-gray-500 dark:text-gray-400 mb-1",children:"Data"}),(0,t.jsx)("input",{type:"date",id:"data-inicio",value:o,onChange:e=>l(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-sono-primary focus:border-sono-primary dark:bg-gray-700 dark:border-gray-600 dark:text-white",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"hora-inicio",className:"block text-sm font-medium text-gray-500 dark:text-gray-400 mb-1",children:"Hora"}),(0,t.jsx)("input",{type:"time",id:"hora-inicio",value:m,onChange:e=>v(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-sono-primary focus:border-sono-primary dark:bg-gray-700 dark:border-gray-600 dark:text-white",required:!0})]})]}),(0,t.jsx)("button",{type:"button",onClick:()=>{let e=new Date;l((0,d.WU)(e,"yyyy-MM-dd")),v((0,d.WU)(e,"HH:mm"))},className:"mt-2 text-sm text-sono-primary hover:text-sono-secondary dark:text-sono-secondary dark:hover:text-sono-primary",children:"Registrar agora"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("h3",{className:"font-medium text-gray-700 dark:text-gray-300 mb-3 flex items-center",children:[(0,t.jsx)(b.Z,{className:"h-4 w-4 mr-2"}),"Hor\xe1rio de acordar"]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"data-fim",className:"block text-sm font-medium text-gray-500 dark:text-gray-400 mb-1",children:"Data"}),(0,t.jsx)("input",{type:"date",id:"data-fim",value:j,onChange:e=>N(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-sono-primary focus:border-sono-primary dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"hora-fim",className:"block text-sm font-medium text-gray-500 dark:text-gray-400 mb-1",children:"Hora"}),(0,t.jsx)("input",{type:"time",id:"hora-fim",value:k,onChange:e=>w(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-sono-primary focus:border-sono-primary dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]})]}),(0,t.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-400 mt-2",children:"Deixe em branco se ainda n\xe3o acordou"})]})]}),(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("label",{className:"block font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Qualidade do sono"}),(0,t.jsx)("div",{className:"flex space-x-2",children:[1,2,3,4,5].map(e=>(0,t.jsx)("button",{type:"button",onClick:()=>C(e),className:"p-2 rounded-full focus:outline-none focus:ring-2 focus:ring-sono-primary","aria-label":"Qualidade ".concat(e," de 5"),children:(0,t.jsx)(h.Z,{className:"h-6 w-6 ".concat(null!==M&&e<=M?"text-yellow-400 fill-yellow-400":"text-gray-300")})},e))}),(0,t.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:null===M?"Selecione a qualidade do sono":"Qualidade: ".concat(M,"/5")})]}),(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("label",{htmlFor:"notas",className:"block font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Notas (opcional)"}),(0,t.jsx)("textarea",{id:"notas",value:S,onChange:e=>D(e.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-sono-primary focus:border-sono-primary dark:bg-gray-700 dark:border-gray-600 dark:text-white",placeholder:"Exemplo: Acordei v\xe1rias vezes, tive sonhos v\xedvidos, etc."})]}),(0,t.jsxs)("div",{className:"flex space-x-3",children:[(0,t.jsx)("button",{type:"submit",className:"px-4 py-2 bg-sono-primary text-white rounded-md hover:bg-sono-secondary focus:outline-none focus:ring-2 focus:ring-sono-primary focus:ring-offset-2",children:z?"Atualizar Registro":"Registrar Sono"}),z&&(0,t.jsx)("button",{type:"button",onClick:()=>{U(),H(!1),A(null)},className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600",children:"Cancelar"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Registros Recentes"}),(0,t.jsx)("div",{className:"space-y-4",children:0===e.length?(0,t.jsx)("div",{className:"text-gray-500 dark:text-gray-400 text-center py-4",children:"Nenhum registro de sono encontrado"}):e.sort((e,a)=>new Date(a.inicio).getTime()-new Date(e.inicio).getTime()).slice(0,5).map(e=>(0,t.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg border border-gray-200 dark:border-gray-600",children:[(0,t.jsxs)("div",{className:"flex justify-between items-start",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-medium text-gray-800 dark:text-white",children:R(e.inicio)}),e.fim?(0,t.jsxs)("div",{className:"text-gray-600 dark:text-gray-300 text-sm",children:["At\xe9 ",R(e.fim)]}):(0,t.jsx)("div",{className:"text-sono-primary dark:text-sono-secondary text-sm font-medium",children:"Ainda dormindo"}),e.fim&&(0,t.jsxs)("div",{className:"flex items-center mt-1",children:[(0,t.jsx)(b.Z,{className:"h-4 w-4 text-gray-500 dark:text-gray-400 mr-1"}),(0,t.jsx)("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:L(e.inicio,e.fim)})]}),null!==e.qualidade&&(0,t.jsx)("div",{className:"flex mt-1",children:O(e.qualidade)}),e.notas&&(0,t.jsxs)("div",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:['"',e.notas,'"']})]}),(0,t.jsxs)("div",{className:"flex space-x-2",children:[(0,t.jsx)("button",{onClick:()=>W(e),className:"p-1 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300","aria-label":"Editar registro",children:(0,t.jsx)(f.Z,{className:"h-4 w-4"})}),(0,t.jsx)("button",{onClick:()=>i(e.id),className:"p-1 text-red-500 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300","aria-label":"Remover registro",children:(0,t.jsx)(p.Z,{className:"h-4 w-4"})})]})]}),!e.fim&&(0,t.jsx)("button",{onClick:()=>F(e.id),className:"mt-2 px-3 py-1 text-sm bg-sono-light text-sono-primary rounded-md hover:bg-opacity-70",children:"Registrar acordar agora"})]},e.id))})]})]})}var j=r(68890),N=r(32867),k=r(25283),w=r(35418),S=r(90898),D=r(65888),M=r(73396),C=r(35288),z=r(73067),H=r(68291),Z=r(44135);function A(){let{registros:e}=c(),[a,r]=(0,s.useState)(new Date),i=(0,s.useMemo)(()=>{let e=(0,k.z)(a,{weekStartsOn:0}),r=(0,w.v)(a,{weekStartsOn:0});return{inicio:e,fim:r,diasDaSemana:(0,S.D)({start:e,end:r})}},[a]),o=(0,s.useMemo)(()=>i.diasDaSemana.map(e=>{let a=(0,d.WU)(e,"EEE",{locale:n.F}),r=(0,d.WU)(e,"dd/MM");return{data:e,diaSemana:a.charAt(0).toUpperCase()+a.slice(1),diaMes:r}}),[i]),l=(0,s.useMemo)(()=>o.map(a=>{let r=e.filter(e=>{let r=(0,x.D)(e.inicio),t=e.fim?(0,x.D)(e.fim):new Date;return(0,D.K)(r,a.data)||(0,D.K)(t,a.data)||(0,M._)(a.data,{start:r,end:t})}),t=0;r.forEach(e=>{let r=(0,x.D)(e.inicio),s=e.fim?(0,x.D)(e.fim):new Date,i=new Date(a.data);i.setHours(0,0,0,0);let o=new Date(a.data);o.setHours(23,59,59,999);let d=r<i?i:r,n=s>o?o:s;n>d&&(t+=(0,C.X)(n,d))});let s=Math.round(t/6)/10,i=r.filter(e=>null!==e.qualidade),o=i.length>0?i.reduce((e,a)=>e+(a.qualidade||0),0)/i.length:null;return{...a,horasDeSono:s,qualidadeMedia:o,registros:r}}),[o,e]),m=(0,s.useMemo)(()=>{let e=l.filter(e=>e.horasDeSono>0);if(0===e.length)return{mediaHoras:0,mediaQualidade:0,melhorDia:null,piorDia:null};let a=Math.round(e.reduce((e,a)=>e+a.horasDeSono,0)/e.length*10)/10,r=e.filter(e=>null!==e.qualidadeMedia);return{mediaHoras:a,mediaQualidade:r.length>0?Math.round(r.reduce((e,a)=>e+(a.qualidadeMedia||0),0)/r.length*10)/10:0,melhorDia:[...e].sort((e,a)=>Math.abs(e.horasDeSono-8)-Math.abs(a.horasDeSono-8))[0],piorDia:[...e].sort((e,a)=>{let r=Math.abs(e.horasDeSono-8);return Math.abs(a.horasDeSono-8)-r})[0]}},[l]),g=e=>"".concat(Math.min(e/12*100,100),"%"),u=e=>e>=7&&e<=9?"bg-green-500":e>=5&&e<7||e>9&&e<=11?"bg-yellow-500":"bg-red-500";return(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-gray-800 dark:text-white mb-6",children:"Visualizador Semanal de Sono"}),(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsx)("button",{onClick:()=>{r(e=>(0,j.t)(e,1))},className:"p-2 rounded-full text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 focus:outline-none focus:ring-2 focus:ring-sono-primary","aria-label":"Semana anterior",children:(0,t.jsx)(z.Z,{className:"h-5 w-5"})}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsxs)("h3",{className:"font-medium text-gray-800 dark:text-white",children:[(0,d.WU)(i.inicio,"dd 'de' MMMM",{locale:n.F})," - ",(0,d.WU)(i.fim,"dd 'de' MMMM",{locale:n.F})]}),(0,t.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:(0,d.WU)(i.inicio,"yyyy")})]}),(0,t.jsx)("button",{onClick:()=>{r(e=>(0,N.E)(e,7))},className:"p-2 rounded-full text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 focus:outline-none focus:ring-2 focus:ring-sono-primary","aria-label":"Pr\xf3xima semana",disabled:(0,M._)(new Date,{start:i.inicio,end:i.fim}),children:(0,t.jsx)(H.Z,{className:"h-5 w-5"})})]}),(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsx)("div",{className:"flex items-end justify-between h-64 bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:l.map((e,a)=>(0,t.jsxs)("div",{className:"flex flex-col items-center w-1/7",children:[(0,t.jsx)("div",{className:"relative h-48 w-full flex items-end justify-center mb-2",children:e.horasDeSono>0?(0,t.jsx)("div",{className:"w-8 rounded-t-lg ".concat(u(e.horasDeSono)),style:{height:g(e.horasDeSono)},title:"".concat(e.horasDeSono," horas de sono")}):(0,t.jsx)("div",{className:"text-gray-400 dark:text-gray-500",children:"—"})}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"font-medium text-sono-primary dark:text-sono-secondary text-sm",children:e.diaSemana}),(0,t.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:e.diaMes})]})]},a))}),(0,t.jsxs)("div",{className:"flex justify-between text-xs text-gray-500 dark:text-gray-400 mt-2",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"w-3 h-3 rounded-full bg-green-500 mr-1"}),(0,t.jsx)("span",{children:"7-9h (ideal)"})]}),(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"w-3 h-3 rounded-full bg-yellow-500 mr-1"}),(0,t.jsx)("span",{children:"5-7h / 9-11h"})]}),(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"w-3 h-3 rounded-full bg-red-500 mr-1"}),(0,t.jsx)("span",{children:"<5h / >11h"})]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-6",children:[(0,t.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:[(0,t.jsxs)("h3",{className:"font-medium text-gray-800 dark:text-white mb-2 flex items-center",children:[(0,t.jsx)(b.Z,{className:"h-4 w-4 mr-2"}),"M\xe9dia da Semana"]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Horas de sono"}),(0,t.jsxs)("div",{className:"text-2xl font-bold text-sono-primary",children:[m.mediaHoras,"h"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Qualidade m\xe9dia"}),(0,t.jsxs)("div",{className:"text-2xl font-bold text-sono-primary",children:[m.mediaQualidade?m.mediaQualidade.toFixed(1):"—","/5"]})]})]})]}),(0,t.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:[(0,t.jsxs)("h3",{className:"font-medium text-gray-800 dark:text-white mb-2 flex items-center",children:[(0,t.jsx)(Z.Z,{className:"h-4 w-4 mr-2"}),"Melhor e Pior Dia"]}),m.melhorDia?(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Melhor dia"}),(0,t.jsxs)("div",{className:"font-medium text-green-600 dark:text-green-400",children:[m.melhorDia.diaSemana," • ",m.melhorDia.horasDeSono,"h"]})]}),m.piorDia&&(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Pior dia"}),(0,t.jsxs)("div",{className:"font-medium text-red-600 dark:text-red-400",children:[m.piorDia.diaSemana," • ",m.piorDia.horasDeSono,"h"]})]})]}):(0,t.jsx)("div",{className:"text-gray-500 dark:text-gray-400",children:"Sem dados suficientes para esta semana"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Detalhes da Semana"}),l.some(e=>e.registros.length>0)?(0,t.jsx)("div",{className:"space-y-2",children:l.map((e,a)=>e.registros.length>0&&(0,t.jsxs)("div",{className:"border-l-2 border-sono-primary pl-3 py-1",children:[(0,t.jsxs)("div",{className:"font-medium text-gray-800 dark:text-white",children:[e.diaSemana,", ",e.diaMes]}),(0,t.jsxs)("div",{className:"flex items-center text-sm text-gray-600 dark:text-gray-300",children:[(0,t.jsx)(b.Z,{className:"h-4 w-4 mr-1"}),(0,t.jsxs)("span",{children:[e.horasDeSono," horas de sono"]})]})]},a))}):(0,t.jsx)("div",{className:"text-center py-6 text-gray-500 dark:text-gray-400",children:"Nenhum registro encontrado para esta semana"})]})]})}var R=r(99670),L=r(77216),O=r(3021);let U=[{valor:0,nome:"Dom",abrev:"D"},{valor:1,nome:"Seg",abrev:"S"},{valor:2,nome:"Ter",abrev:"T"},{valor:3,nome:"Qua",abrev:"Q"},{valor:4,nome:"Qui",abrev:"Q"},{valor:5,nome:"Sex",abrev:"S"},{valor:6,nome:"S\xe1b",abrev:"S"}];function W(){let{lembretes:e,adicionarLembrete:a,atualizarLembrete:r,removerLembrete:i,alternarAtivoLembrete:o}=c(),[d,n]=(0,s.useState)("dormir"),[l,m]=(0,s.useState)("22:00"),[x,g]=(0,s.useState)([0,1,2,3,4,5,6]),[u,h]=(0,s.useState)(!1),[b,v]=(0,s.useState)(null),j=e=>{x.includes(e)?g(x.filter(a=>a!==e)):g([...x,e])},N=e=>{n(e.tipo),m(e.horario),g(e.diasSemana),h(!0),v(e.id)},k=()=>{n("dormir"),m("22:00"),g([0,1,2,3,4,5,6])},w=e=>7===e.length?"Todos os dias":0===e.length?"Nenhum dia selecionado":S(e,[1,2,3,4,5])?"Segunda a Sexta":S(e,[0,6])?"Fim de semana":e.sort((e,a)=>e-a).map(e=>{var a;return null===(a=U.find(a=>a.valor===e))||void 0===a?void 0:a.nome}).join(", "),S=(e,a)=>e.length===a.length&&e.sort().every((e,r)=>e===a.sort()[r]),D=e.filter(e=>"dormir"===e.tipo),M=e.filter(e=>"acordar"===e.tipo);return(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-gray-800 dark:text-white mb-6",children:"Configura\xe7\xe3o de Lembretes"}),(0,t.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),0===x.length){alert("Selecione pelo menos um dia da semana");return}u&&b?(r(b,{tipo:d,horario:l,diasSemana:x}),h(!1),v(null)):a(d,l,x),k()},className:"mb-8",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Tipo de Lembrete"}),(0,t.jsxs)("div",{className:"flex space-x-4",children:[(0,t.jsxs)("label",{className:"flex items-center",children:[(0,t.jsx)("input",{type:"radio",name:"tipo",checked:"dormir"===d,onChange:()=>n("dormir"),className:"h-4 w-4 text-sono-primary focus:ring-sono-primary border-gray-300"}),(0,t.jsxs)("span",{className:"ml-2 flex items-center text-gray-700 dark:text-gray-300",children:[(0,t.jsx)(y.Z,{className:"h-4 w-4 mr-1 rotate-180"}),"Hora de dormir"]})]}),(0,t.jsxs)("label",{className:"flex items-center",children:[(0,t.jsx)("input",{type:"radio",name:"tipo",checked:"acordar"===d,onChange:()=>n("acordar"),className:"h-4 w-4 text-sono-primary focus:ring-sono-primary border-gray-300"}),(0,t.jsxs)("span",{className:"ml-2 flex items-center text-gray-700 dark:text-gray-300",children:[(0,t.jsx)(Z.Z,{className:"h-4 w-4 mr-1"}),"Hora de acordar"]})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"horario",className:"block font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Hor\xe1rio"}),(0,t.jsx)("input",{type:"time",id:"horario",value:l,onChange:e=>m(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-sono-primary focus:border-sono-primary dark:bg-gray-700 dark:border-gray-600 dark:text-white",required:!0})]})]}),(0,t.jsxs)("div",{className:"mt-6",children:[(0,t.jsx)("h3",{className:"font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Dias da Semana"}),(0,t.jsxs)("div",{className:"flex mb-3 space-x-2",children:[(0,t.jsx)("button",{type:"button",onClick:()=>{g([0,1,2,3,4,5,6])},className:"px-2 py-1 text-xs text-gray-600 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 rounded-md hover:bg-gray-200 dark:hover:bg-gray-600",children:"Todos"}),(0,t.jsx)("button",{type:"button",onClick:()=>{g([1,2,3,4,5])},className:"px-2 py-1 text-xs text-gray-600 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 rounded-md hover:bg-gray-200 dark:hover:bg-gray-600",children:"Seg-Sex"}),(0,t.jsx)("button",{type:"button",onClick:()=>{g([0,6])},className:"px-2 py-1 text-xs text-gray-600 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 rounded-md hover:bg-gray-200 dark:hover:bg-gray-600",children:"Fim de semana"}),(0,t.jsx)("button",{type:"button",onClick:()=>{g([])},className:"px-2 py-1 text-xs text-gray-600 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 rounded-md hover:bg-gray-200 dark:hover:bg-gray-600",children:"Limpar"})]}),(0,t.jsx)("div",{className:"flex space-x-2 flex-wrap",children:U.map(e=>(0,t.jsx)("button",{type:"button",onClick:()=>j(e.valor),className:"\n                  w-9 h-9 rounded-full flex items-center justify-center focus:outline-none focus:ring-2 focus:ring-sono-primary\n                  ".concat(x.includes(e.valor)?"bg-sono-primary text-white":"bg-gray-100 text-gray-600 dark:bg-gray-700 dark:text-gray-300","\n                "),"aria-label":"".concat(x.includes(e.valor)?"Remover":"Adicionar"," ").concat(e.nome),"aria-pressed":x.includes(e.valor),children:e.abrev},e.valor))}),(0,t.jsx)("p",{className:"mt-2 text-sm text-gray-500 dark:text-gray-400",children:w(x)})]}),(0,t.jsxs)("div",{className:"mt-6 flex space-x-3",children:[(0,t.jsx)("button",{type:"submit",className:"px-4 py-2 bg-sono-primary text-white rounded-md hover:bg-sono-secondary focus:outline-none focus:ring-2 focus:ring-sono-primary focus:ring-offset-2",children:u?"Atualizar Lembrete":"Adicionar Lembrete"}),u&&(0,t.jsx)("button",{type:"button",onClick:()=>{k(),h(!1),v(null)},className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600",children:"Cancelar"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:[(0,t.jsxs)("h3",{className:"font-medium text-gray-800 dark:text-white mb-3 flex items-center",children:[(0,t.jsx)(y.Z,{className:"h-4 w-4 mr-2 rotate-180"}),"Lembretes para Dormir"]}),0===D.length?(0,t.jsx)("div",{className:"text-gray-500 dark:text-gray-400 text-center py-2",children:"Nenhum lembrete configurado"}):(0,t.jsx)("div",{className:"space-y-3",children:D.map(e=>(0,t.jsxs)("div",{className:"flex justify-between items-center p-3 bg-white dark:bg-gray-800 rounded-md shadow-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-medium text-gray-800 dark:text-white",children:e.horario}),(0,t.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:w(e.diasSemana)})]}),(0,t.jsxs)("div",{className:"flex space-x-2",children:[(0,t.jsx)("button",{onClick:()=>o(e.id),className:"p-1 rounded-md ".concat(e.ativo?"text-sono-primary":"text-gray-400"),"aria-label":e.ativo?"Desativar lembrete":"Ativar lembrete",children:e.ativo?(0,t.jsx)(R.Z,{className:"h-4 w-4"}):(0,t.jsx)(L.Z,{className:"h-4 w-4"})}),(0,t.jsx)("button",{onClick:()=>N(e),className:"p-1 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300","aria-label":"Editar lembrete",children:(0,t.jsx)(f.Z,{className:"h-4 w-4"})}),(0,t.jsx)("button",{onClick:()=>i(e.id),className:"p-1 text-red-500 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300","aria-label":"Remover lembrete",children:(0,t.jsx)(p.Z,{className:"h-4 w-4"})})]})]},e.id))})]}),(0,t.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:[(0,t.jsxs)("h3",{className:"font-medium text-gray-800 dark:text-white mb-3 flex items-center",children:[(0,t.jsx)(Z.Z,{className:"h-4 w-4 mr-2"}),"Lembretes para Acordar"]}),0===M.length?(0,t.jsx)("div",{className:"text-gray-500 dark:text-gray-400 text-center py-2",children:"Nenhum lembrete configurado"}):(0,t.jsx)("div",{className:"space-y-3",children:M.map(e=>(0,t.jsxs)("div",{className:"flex justify-between items-center p-3 bg-white dark:bg-gray-800 rounded-md shadow-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-medium text-gray-800 dark:text-white",children:e.horario}),(0,t.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:w(e.diasSemana)})]}),(0,t.jsxs)("div",{className:"flex space-x-2",children:[(0,t.jsx)("button",{onClick:()=>o(e.id),className:"p-1 rounded-md ".concat(e.ativo?"text-sono-primary":"text-gray-400"),"aria-label":e.ativo?"Desativar lembrete":"Ativar lembrete",children:e.ativo?(0,t.jsx)(R.Z,{className:"h-4 w-4"}):(0,t.jsx)(L.Z,{className:"h-4 w-4"})}),(0,t.jsx)("button",{onClick:()=>N(e),className:"p-1 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300","aria-label":"Editar lembrete",children:(0,t.jsx)(f.Z,{className:"h-4 w-4"})}),(0,t.jsx)("button",{onClick:()=>i(e.id),className:"p-1 text-red-500 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300","aria-label":"Remover lembrete",children:(0,t.jsx)(p.Z,{className:"h-4 w-4"})})]})]},e.id))})]})]}),(0,t.jsxs)("div",{className:"mt-6 p-4 bg-blue-50 text-blue-800 dark:bg-blue-900 dark:text-blue-100 rounded-md",children:[(0,t.jsxs)("h3",{className:"font-medium mb-2 flex items-center",children:[(0,t.jsx)(O.Z,{className:"h-5 w-5 mr-2"}),"Sobre os lembretes"]}),(0,t.jsx)("p",{className:"text-sm",children:"Os lembretes s\xe3o apenas visuais e exibidos quando voc\xea estiver usando o aplicativo. Para receber notifica\xe7\xf5es em seu dispositivo, configure os alarmes no aplicativo de rel\xf3gio do seu sistema."})]})]})}function F(){let[e,a]=(0,s.useState)("registro");return(0,t.jsxs)("main",{className:"container mx-auto px-4 py-8 max-w-7xl",children:[(0,t.jsxs)("div",{className:"flex items-center mb-8",children:[(0,t.jsx)("div",{className:"text-sono-primary mr-3 font-mono",children:(0,t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[(0,t.jsx)("path",{d:"M2 4v16"}),(0,t.jsx)("path",{d:"M2 8h18a2 2 0 0 1 2 2v10"}),(0,t.jsx)("path",{d:"M2 17h20"}),(0,t.jsx)("path",{d:"M6 8v9"})]})}),(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:"Gest\xe3o do Sono"})]}),(0,t.jsxs)("div",{className:"flex border-b border-gray-200 dark:border-gray-700 mb-6",children:[(0,t.jsx)("button",{className:"px-4 py-2 font-medium text-sm rounded-t-lg ".concat("registro"===e?"bg-sono-light text-sono-primary border-b-2 border-sono-primary":"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"),onClick:()=>a("registro"),"aria-current":"registro"===e?"page":void 0,children:"Registrar Sono"}),(0,t.jsx)("button",{className:"px-4 py-2 font-medium text-sm rounded-t-lg ".concat("visualizador"===e?"bg-sono-light text-sono-primary border-b-2 border-sono-primary":"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"),onClick:()=>a("visualizador"),"aria-current":"visualizador"===e?"page":void 0,children:"Visualizar Sono"}),(0,t.jsx)("button",{className:"px-4 py-2 font-medium text-sm rounded-t-lg ".concat("lembretes"===e?"bg-sono-light text-sono-primary border-b-2 border-sono-primary":"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"),onClick:()=>a("lembretes"),"aria-current":"lembretes"===e?"page":void 0,children:"Lembretes"})]}),(0,t.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 mb-8",children:["registro"===e&&(0,t.jsx)(v,{}),"visualizador"===e&&(0,t.jsx)(A,{}),"lembretes"===e&&(0,t.jsx)(W,{})]}),(0,t.jsxs)("div",{className:"bg-sono-light bg-opacity-50 dark:bg-gray-700 p-4 rounded-lg text-gray-700 dark:text-gray-300",children:[(0,t.jsx)("h3",{className:"text-lg font-medium mb-2 text-sono-primary",children:"A import\xe2ncia do sono"}),(0,t.jsx)("p",{className:"text-sm mb-2",children:"O sono de qualidade \xe9 essencial para a sa\xfade cerebral e f\xedsica, especialmente para pessoas neurodivergentes. Regular seus ciclos de sono pode ajudar a reduzir a sobrecarga sensorial e melhorar o funcionamento cognitivo."}),(0,t.jsxs)("ul",{className:"text-sm list-disc pl-5 space-y-1",children:[(0,t.jsx)("li",{children:"Tente manter hor\xe1rios regulares para dormir e acordar"}),(0,t.jsx)("li",{children:"Crie uma rotina relaxante antes de dormir"}),(0,t.jsx)("li",{children:"Reduza a exposi\xe7\xe3o \xe0 luz azul pelo menos 1 hora antes de dormir"}),(0,t.jsx)("li",{children:"Evite cafe\xedna e estimulantes no per\xedodo da tarde"})]})]})]})}}},function(e){e.O(0,[255,156,603,971,938,744],function(){return e(e.s=9708)}),_N_E=e.O()}]);